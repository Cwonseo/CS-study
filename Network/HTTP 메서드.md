### HTTP METHOD

HTTP METHOD란 클라이언트와 서버 간 요청과 응답 데이터를 전송하는 방식으로 서버가 수행해야 할 동작을 지정하여 요청을 보내는 방법이다.

GET, POST, PUT(PATCH), DELETE, HEAD, OPTIONS, CONNECT 등 존재.

**왜 사용할까?**

리소스와 동작을 분리하기 위함이다. HTTP METHOD가 서버가 수행할 동작을 지정하면 URI는 리소스만 식별하면 된다.

### [**HTTP 메서드의 속성**](https://jhbljs92.tistory.com/entry/3-HTTP-Method#HTTP%20%EB%A9%94%EC%84%9C%EB%93%9C%EC%9D%98%20%EC%86%8D%EC%84%B1-1)

1. 안전(Safe Methods)이 말은 계속해서 메소드를 호출해도 리소스를 변경하지 않는다는 뜻이다. 주요 메소드중에는 GET 메소드가 안전하다고 볼 수 있다.
2. 멱등(Idempotent Methods)이 말은 메소드를 계속 호출해도 결과가 똑같다는 뜻이다. GET, PUT, DELETE는 멱등하다고 볼 수 있지만 POST나 PATCH는 멱등하다고 볼 수 없다. PATCH가 왜 멱등하지 않다고 하는건지는 [여기](https://oen-blog.tistory.com/211)를 참고
3. 캐시가능(Cacheable Methods)캐시가능하다는 말은 말 그대로 캐싱을 해서 데이터를 효율적으로 가져올 수 있다는 뜻이다. GET, HEAD, POST, PATCH가 캐시가 가능하지만 실제로는 GET과 HEAD만 주로 캐싱이 쓰인다고 한다.

**GET**

- 예시 : GET / members/100?username=inpa&height=200
- 리소스 조회 메서드(Read)
- 리소스 조회를 위해 서버에 전달하고 싶은 데이터는 쿼리스트링을 통해서 전달
- 쿼리스트링 외 body를 통해 데이터를 전달할 수 있지만 의도와 맞지 않으므로 권장되지 않음.
- 캐싱에 사용되고 URL의 정보가 노출될 수 있어 보안에 취약함

**POST**

- 전달한 데이터 처리/생성 요청 등 의도로 사용되는 메서드
- body를 통해 요청 데이터를 전달하여 처리한다.
- 애매한 경우, POST로 다 처리할 수 있다.

```json
POST /members/100
{
	"age": 50
}
```

**PUT**

- 리소스를 대체(수정)하는 메서드
- 요청 메세지에 리소스가 있으면 덮어쓰고, 없으면 새로 생성한다.
    - /members/100 데이터가 존재하면 기존에 것을 완전 대체
    - /members/100 데이터가 없다면 대체할 게 없으니 새로 생성
- 일부 리소스만 변경하기 원하는 경우, 요청 데이터 이외 기존 데이터가 기본값으로 대체되거나 삭제된다.

```json
PUT /members/100
{
	"age": 50
}
// age 외 필드는 default 또는 null로 바뀜
```

**PATCH**

- 리소스 일부 부분만 변경하는 메소드
- 리소스 일부만 변경하더라도 나머지 데이터에 영향을 끼치지 않는다.
- 자원이 존재하지 않는 경우, 새로운 자원을 생성하지 않는다.

```json
PATCH /members/100
{
	"age": 50
}
// age 필드만 변경함.
```

**DELETE**

- 리소스를 제거하는 메서드
- 상태코드는 대부분 200(OK) 또는 204(NoContent)를 사용한다.

```json
DELETE /members/100
// 해당 리소스 제거
```

**멱등성이란?**

동일한 요청을 한 번 보내는 것과 여러 번 연속으로 보내는 것이 같은 효과를 지니고, 서버의 상태도 동일하게 남을 때, 해당 HTTP 메서드가 **멱등성**을 가졌다고 한다.

|  | 멱등성 | 안전성 |
| --- | --- | --- |
| GET | O | O |
| POST | https://kr.piliapp.com/symbol/triangle/ | X |
| PUT | O | X |
| PATCH | X | X |
| DELETE | O | X |

**질문**

Q. HTTP 메서드는에 대해 설명하시오.

A. HTTP 메서드는 클라이언트와 서버 간 요청과 응답이 이루어지는 방식을 의미합닏 HTTP 메서드는 클라이언트와 서버 간의 상호작용을 표준화하고 일관성 있게 만들기 위한 핵심 요소입니다. 각 메서드는 특정한 목적을 가지고 있으며, 이를 통해 통신을 예측 가능하고 효율적으로 만듭니다.

Q. PUT과 PATCH의 차이는?

A. PUT은 멱등성을 보장하고 PATCH는 멱등성을 보장하지 않습니다. 또한 PUT은 요청 데이터 기준으로 전체 리소스 자체를 대체하고 해당 리소스가 없다면 생성합니다. PATCH는 해당 요청 데이터 기준으로 리소스 일부만 대체합니다. 

Q. GET과 POST의 차이는?

A. GET은 리소스 조회의 용도로 사용되며 요청 데이터는 URL에 포함되어 정보가 노출될 수 있습다. 또한 조회 기능이므로 멱등성과 안정성을 보장하고 캐싱이 가능합니다. POST는 주로 새로운 리소스를 생성하거나 처리의 용도로 사용되며 요청 데이터는 body에 포함됩니다. 따라서 GET 보다 정보 노출에 위험성이 낮습니다. 이러한 특징으로 멱등성과 안정성은 보장되지 않습니다.