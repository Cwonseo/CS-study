# OSI 7계층
### 💡 OSI 7계층이란?
- **네트워크 통신**이 일어나는 과정을 7단계로 나눈 국제 표준화 기구(ISO)에서 정의한 네트워크 표준 모델
- **1계층(물리 계층) ~ 7계층(응용 계층)** 으로 구성되어 있다.

![network_osi_7_layer_01](https://github.com/Cwonseo/tech-interview/assets/88311377/8a7bc2d6-bc5b-4fd5-a744-5afbefa6409a)

---

### 1️⃣ 1계층 - 물리 계층(Pyshical Layer)
- 주로 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송하는 **물리적인 장비**
- 데이터를 전기적인 신호(0,1)로 변환해서 주고받는 기능만 작동
- 장비: 통신 케이블, 리피터, 허브 등
- PDU : 비트(Bit) → 전기적으로 ON, OFF 상태
- 프로토콜: 모뎀, RS-232 등

---

### 2️⃣ 2계층 - 데이터 링크 계층(DataLink Layer)
- 물리 계층을 통해 송수신되는 정보의 오류와 흐름을 관리하여 안전한 통신의 흐름을 관리
- 프레임에 **물리적 주소(MAC address)** 를 부여하고 에러 검출, 재전송, 흐름제어 수행
- 장비 : 브릿지, 스위치, 이더넷 등 (여기서 MAC address 사용)
- 브릿지나 스위치를 통해 MAC address를 가지고 물리 계층에서 받은 정보를 전달
- PDU: 프레임(Frame)
- 프로토콜: MAC, LAN 등

---

### 3️⃣ 3계층 - 네트워크 계층(Network layer)
- 데이터를 목적지까지 가장 안전하고 빠르게 전달
- 라우터(Router)를 통해 경로를 선택하고, 주소를 정하고(IP), 경로(Route)에 따라 패킷을 전달 → IP 헤더 붙음
- 장비: 라우터
- PDU: 패킷(Packet)
- 프로토콜: IP, ICMP 등

---

### 4️⃣ 4계층 - 전송 계층(Transport Layer)
- 포트 번호, 전송 방식(TCP/UDP) 결정 → TCP 헤더 붙음
  - TCP : 신뢰성, 연결 지향적
  - UDP : 비신뢰성, 비연결성, 실시간
- 두 지점 간의 **신뢰성** 있는 데이터를 주고받게 해주는 역할
- 신호를 분산하고 다시 합치는 과정을 통해 에러와 경로를 제어
- PDU: 세그먼트(Segment)
- 프로토콜: TCP, UDP 등

---

### 5️⃣ 5계층 - 세션 계층(Session Layer)
- 주 지점 간의 프로세스 및 통신하는 호스트 간의 연결 유지
- TCP/IP 세션 체결, 포트 번호를 기반으로 **통신 세션** 구성
- PDU: 데이터(Data)
- 프로토콜: HTTP, SMTP, FTP 등

---

### 6️⃣ 6계층 - 표현 계층(Presentation Layer)
- 전송하는 데이터의 표현 방식을 결정(ex. 데이터 변환, 압축, 암호화 등)
- 파일 인코딩, 명령어를 포장, 압축, 암호화
- 포맷・인코딩 방식: JPEG, MPEG, GIF, ASCII 등
- PDU: 데이터(Data)
- 프로토콜: SSL/TLS, MIME 등

---

### 7️⃣ 7계층 - 응용 계층(Application Layer)
- 최종 목적지로, 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행(ex. Explorer, Chrome 등)
- PDU: 데이터(Data)
- 프로토콜: HTTP, FTP, SMTP, POP3, IMAP, Telnet


---

### 🙋🏻‍♀️❓ 예상 질문

<details>
    <summary>Q. OSI 7계층에 대해 설명해주세요.</summary>
    <hr>
        A. OSI 7 계층은 네트워크 프로토콜이 통신하는 구조를 7개의 계층으로 분리하여 각 계층간 상호 작동하는 방식입니다. 각 계층은 하위 계층을 사용하고, 현 계층 기능을 포함하여 상위 계층에 데이터를 전달합니다.
        각 계층은 물리 계층, 데이터 링크 계층, 네트워크 계층, 전송 계층, 세션 계층, 표현 계층, 응용 계층으로 구성되어 있습니다. 각 계층은 데이터의 송수신을 위한 특정 기능을 담당하며, 계층별로 데이터가 순차적으로 처리됩니다.
        과거에는 통신용 규약이 표준화되지 않아 각 벤더에서 별도로 개발했기에 호환되지 않는 시스템이나 애플리케이션이 많았고 통신이 불가능했습니다. 이를 하나의 규약으로 통합하려는 노력이 현재 OSI 7계층으로 남아있습니다.
        실제로 우리가 대부분 사용하는 네트워크는 TCP/IP 4계층입니다.
    <hr>
</details>

<details>
    <summary>Q. OSI 7계층은 왜 나눴을까요?</summary>
    <hr>
        A. OSI 7계층 모델은 네트워크 통신을 표준화하고, 복잡한 네트워크 통신 과정을 이해하기 쉽게 하기 위해 나누어졌습니다. 계층으로 나눔으로써 통신 이상 발생 시 문제가 생긴 단계에만 집중할 수 있으며, 각 계층이 독립적으로 발전할 수 있습니다. 마치 자동차의 타이어를 교체하는 것처럼 다양한 유형의 프로토콜에 적용할 수 있습니다.
    <hr>
</details>

<details>
    <summary>Q. 인캡슐레이션과 디캡슐레이션에 대해 설명해주세요.</summary>
    <hr>
        A. 인캡슐레이션(Encapsulation)은 데이터가 상위 계층에서 하위 계층으로 전달될 때 각 계층의 헤더를 추가하여 캡슐화하는 과정입니다. 디캡슐레이션(Decapsulation)은 하위 계층에서 상위 계층으로 데이터가 전달될 때 각 계층의 헤더를 제거하여 원래 데이터를 복원하는 과정입니다.
    <hr>
</details>

<details>
    <summary>Q. 웹 서버 소프트웨어(Apache, Nginx)는 OSI 7계층 중 어디서 작동하는지 설명해보세요.</summary>
    <hr>
        A. Apache와 NGINX는 HTTP 웹 서버로, 이들이 동작하는 HTTP 프로토콜은 OSI 7 Layer 중 7계층인 애플리케이션 Layer 에 해당하는 프로토콜입니다. HTTP 프로토콜은 TCP/IP 프로토콜을 통해 동작합니다. TCP/IP 프로토콜은 OSI 7 Layer 중 4계층인 Transport Layer에서 동작합니다. 따라서 웹 서버 소프트웨어는 4계층의 TCP/IP 프로토콜과 7계층의 HTTP 프로토콜을 활용하여 동작합니다.
    <hr>
</details>

<details>
    <summary>Q. 웹 서버 소프트웨어(Apache, Nginx)의 서버 간 라우팅 기능은 OSI 7계층 중 어디서 작동하는지 설명해보세요.</summary>
    <hr>
        A. 두 가지가 있습니다. Layer 4 (Transport Layer), 그리고 Layer 7 (Application Layer) 입니다. L4 에서는 TCP/UDP 포트 정보를 토대로 라우팅 기능이 제공됩니다. L7에서는 TCP/UDP 뿐만 아니라 HTTP의 URI 등을 토대로 라우팅 기능이 제공 됩니다. L4 에서 라우팅 기능을 사용 한 예시를 들자면, Nginx 의 경우 여러 포트들을 하나의 upstream 블록으로 묶어서 로드 밸런싱, 즉 특정 경로로 전달되는 요청을 각 포트 별로 분산해서 전달하도록 설정 해 줄 수 있습니다. L7 에서 라우팅 기능을 사용 한 예시를 들자면, Apache, Nginx 각각에서 서브 도메인에 대해 라우팅 설정을 해 둘 수 있습니다. 브라우저에서 /test 와 같은 서브 도메인으로 HTTP 프로토콜을 통한 요청을 보낸다면, 웹서버 내 Config 파일에 설정 된 경로 정보를 토대로 요청에 대한 라우팅을 제공하여 스태틱 파일을 전달하거나 API 서버에 대해 리버스 프록시 역할을 해 줄 수 있습니다.
    <hr>
</details>